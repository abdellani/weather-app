{"version":3,"sources":["components/form.jsx","actions/index.js","components/main.jsx","containers/App.js","reducers/index.js","index.js"],"names":["Form","props","state","location","e","this","setState","target","value","preventDefault","sendQueries","then","responses","checkResponse","data","updateStore","baseUrl","key","process","url","url1","Promise","all","sendQuery","fetch","response","json","main","wind","weather","sys","sunrise","sunset","Date","toLocaleTimeString","slice","pressure","humidity","temp","toFixed","currentWeather","cod","console","log","current","checkCurrentWeather","forecastData","list","name","country","city","details","forEach","item","dt_txt","time","split","push","structuredData","add","className","type","onChange","handleChange","icon","faPlusCircle","onClick","handleSubmit","Component","connect","dispatch","ADD","Column","src","alt","CurrentWeather","toLocaleString","month","weekday","day","faTint","faLocationArrow","faBlackberry","faArrowAltCircleUp","faArrowAltCircleDown","Card","removeItem","faTimesCircle","map","index","Main","locations","DELETE","App","Reducer","action","filter","element","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f24be8f9.chunk.js","sourcesContent":["import React, { Component } from \"react\"\nimport { ADD } from \"../actions\"\nimport { connect } from \"react-redux\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlusCircle } from '@fortawesome/free-solid-svg-icons'\n\nclass Form extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      location: \"stockholm\"\n    }\n  }\n  handleChange(e) {\n    this.setState({\n      location: e.target.value\n    })\n  }\n  handleSubmit(e) {\n    e.preventDefault()\n    this.sendQueries().\n      then(responses => this.checkResponse(responses)).\n      then(data => data && this.updateStore(data))\n\n  }\n\n  sendQueries() {\n    let { location } = this.state\n    const baseUrl = 'https://api.openweathermap.org/data/2.5';\n    const key = process.env.REACT_APP_API_KEY;\n    const path = 'forecast';\n    const tempsUnits = 'metric'; //(units === 'F') ? 'imperial' : 'metric';\n    const url = `${baseUrl}/weather?q=${location}&units=${tempsUnits}&APPID=${key}`;\n    const url1 = `${baseUrl}/${path}?q=${location}&units=${tempsUnits}&APPID=${key}`;\n    return Promise.all([this.sendQuery(url), this.sendQuery(url1)])\n  }\n  sendQuery(url) {\n    return fetch(url)\n      .then(response => response.json())\n  }\n  checkCurrentWeather(data) {\n    let { main, wind, weather, sys } = data\n    let { sunrise, sunset } = sys\n    sunrise = new Date(sunrise * 1000).toLocaleTimeString('en-GB').slice(0, 5);\n    sunset = new Date(sunset * 1000).toLocaleTimeString('en-GB').slice(0, 5);\n\n    wind = wind[\"speed\"]\n    weather = weather[0][\"icon\"]\n    let { pressure, humidity, temp } = main\n    temp = temp.toFixed(0)\n    pressure = (pressure / 1000).toFixed(2)\n\n    return {\n      weather, temp, pressure, wind, humidity, sunrise, sunset\n    }\n  }\n  checkResponse(responses) {\n    let currentWeather = responses[0]\n    let { cod } = currentWeather\n    console.log(cod !== 200)\n    if (cod !== 200) {\n      return\n    }\n    let current = this.checkCurrentWeather(currentWeather)\n\n    let forecastData = responses[1];\n\n    ({ cod } = forecastData)\n\n    if (cod !== \"200\") {\n      return\n    }\n    let { list } = forecastData\n    let { name, country } = forecastData[\"city\"]\n    let city = name\n    let details = []\n    list.slice(0, 9).forEach(\n      (item) => {\n        let { main, dt_txt, wind, weather } = item\n        weather = weather[0][\"icon\"]\n        wind = wind[\"speed\"]\n        let time = dt_txt.split(\" \")[1].slice(0, -3)\n        let { pressure, temp, humidity } = main\n        pressure = (pressure / 1000).toFixed(2)\n        temp = temp.toFixed(0)\n        details.push({\n          pressure, temp, humidity, time, wind, weather\n        })\n      }\n    )\n    return { city, country, details, current }\n  }\n\n  updateStore(structuredData) {\n    this.props.add(structuredData)\n    this.setState({\n      location: \"\"\n    })\n  }\n\n  render() {\n    let { location } = this.state\n    return (\n      <div className=\"form d-flex justify-content-center align-items-center m-4 p-4\">\n        <form className=\"d-flex justify-content-center align-items-center\">\n          <input type=\"text\" className=\"form-control\" value={location} onChange={(e) => this.handleChange(e)} />\n          <FontAwesomeIcon className=\"button text-success mx-4\" icon={faPlusCircle} onClick={(e) => this.handleSubmit(e)} />\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return (\n    {\n      add: (location) => { dispatch(ADD(location)) }\n    })\n}\n\nexport default connect(null, mapDispatchToProps)(Form);","export let ADD=(location)=>{ return{type:\"ADD\",location}}\nexport let DELETE=(index)=>{ return{type:\"DELETE\",index}}\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimesCircle } from '@fortawesome/free-regular-svg-icons'\nimport { faBlackberry } from '@fortawesome/free-brands-svg-icons'\nimport { faLocationArrow, faTint, faArrowAltCircleUp, faArrowAltCircleDown } from '@fortawesome/free-solid-svg-icons'\n\nimport { DELETE } from \"../actions\"\n\nconst Column = ({ pressure, temp, humidity, time, wind, weather }) =>\n  <div className=\"column d-flex flex-column align-items-center text-center px-1 py-1\">\n    <div >\n      {time}\n    </div>\n    <div>\n      <img src={`http://openweathermap.org/img/wn/${weather}@2x.png`} alt=\"Weather icon\" />\n    </div>\n    <div className=\"temp\">\n      {temp}°\n    </div>\n    <div>\n      {pressure}<br /><span className=\"unit\">mm</span>\n    </div>\n    <div>\n      {wind}<br /><span className=\"unit\">m/s</span>\n    </div>\n    <div>\n      {humidity}<br /><span className=\"unit\">%</span>\n    </div>\n  </div>\nconst CurrentWeather = ({ weather, temp, pressure, wind, humidity, sunrise, sunset }) =>\n  <div className=\"current-weather d-flex flex-column align-items-center my-4\">\n    <div className=\"text-center\">\n      {(new Date()).toLocaleString(\"en-GB\", { month: \"long\", weekday: 'long', day: \"numeric\" })}\n    </div>\n    <div className=\"d-flex justify-content-around align-items-center\">\n      <div>\n        <img src={`http://openweathermap.org/img/wn/${weather}@2x.png`} />\n      </div>\n      <div className=\"temp mx-3\">\n        {temp}°\n      </div>\n      <div className=\"d-flex\">\n        <div className=\"d-flex flex-column pr-2\">\n          <div>\n            <FontAwesomeIcon className=\"pressure\" icon={faTint} />\n        </div>\n          <div>\n            <FontAwesomeIcon className=\"wind\" icon={faLocationArrow} />\n        </div>\n          <div>\n            <FontAwesomeIcon className=\"humidity\" icon={faBlackberry} />\n        </div>\n        </div>\n        <div className=\"d-flex flex-column\">\n          <div>\n             {pressure} mm\n        </div>\n          <div>\n             {wind} m/s\n        </div>\n          <div>\n             {humidity} %\n        </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"d-flex w-100 justify-content-around\">\n      <div><FontAwesomeIcon className=\"sun-icon\" icon={faArrowAltCircleUp} /> {sunrise}</div>\n      <div>{sunset} <FontAwesomeIcon className=\"sun-icon\" icon={faArrowAltCircleDown} /></div>\n    </div>\n  </div>\nconst Card = ({ city, country, details, removeItem, current }) =>\n  <div className=\"bg-dark text-white card-container d-flex flex-column p-4 my-4\">\n    <div className=\"d-flex  justify-content-between px-4\">\n      <div>\n        Weather in {city},{country}\n      </div>\n      <div className=\" text-danger\">\n        <FontAwesomeIcon icon={faTimesCircle} onClick={() => removeItem()} />\n      </div>\n    </div>\n    <CurrentWeather {...current} />\n    <div className=\"d-flex justify-content-center flex-wrap\">\n      {details.map((day, index) => <Column key={index} {...day} />)}\n    </div>\n  </div>\n\nclass Main extends Component {\n  render() {\n    let { locations, removeItem } = this.props\n    return (\n      <div className=\"d-flex flex-column align-items-center\">\n        {\n          locations &&\n          locations.map(\n            (location, index) =>\n              <Card\n                key={index}\n                {...location}\n                removeItem={() => removeItem(index)}\n              />\n          )\n        }\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  let { locations } = state\n  return {\n    locations\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    removeItem: (index) => dispatch(DELETE(index))\n  }\n}\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);","import React from 'react';\nimport Form from '../components/form'\nimport Main from '../components/main'\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Form/>\n      <Main/>      \n    </div>\n  );\n}\n\nexport default App;\n","const Reducer=( state={locations:[]},action)=>{\n  switch(action.type){\n    case 'ADD':\n      return {locations:[...state.locations,action.location]}\n    case 'DELETE':\n      return {locations:state.locations.filter((element,index)=> action.index!==index)}\n    default:\n      return state;\n  }\n}\n\nexport default Reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './containers/App';\nimport \"./css/index.scss\"\nimport Reducer from \"./reducers\"\nimport { createStore } from 'redux'\nimport { Provider } from \"react-redux\"\n//bootstrap\n// eslint-disable-next-line \nimport $ from 'jquery';\n// eslint-disable-next-line \nimport Popper from 'popper.js';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n\nlet store = createStore(Reducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  ,\n  document.getElementById('root'));\n\n"],"sourceRoot":""}